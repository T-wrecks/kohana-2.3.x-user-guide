<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
    general:events    [Kohana User Guide]
</title>
<meta name="generator" content="DokuWiki Release 2008-05-05" />
<meta name="robots" content="index,follow" />
<meta name="date" content="2009-09-04T02:33:32-0500" />
<meta name="keywords" content="general,events" />
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php.html" title="Kohana User Guide" />
<link rel="start" href="../../index.html" />
<link rel="contents" href="index-do=index.html" title="Index" />
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="../../feed.php.html" />
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="../../feed-mode=list&ns=general.php.html" />
<link rel="alternate" type="text/html" title="Plain HTML" href="../../_export/xhtml/general/events/index.html" />
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../../_export/raw/general/events/index.html" />
<link rel="stylesheet" media="all" type="text/css" href="../../lib/exe/css-s=all&t=kohana.php.html" />
<link rel="stylesheet" media="screen" type="text/css" href="../../lib/exe/css-t=kohana.php.html" />
<link rel="stylesheet" media="print" type="text/css" href="../../lib/exe/css-s=print&t=kohana.php.html" />
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js-edit=0&write=0.php.html" ></script>
<link rel="shortcut icon" href="../../lib/tpl/kohana/images/favicon.ico" />
</head>
<body>
<!-- Start Header -->
<div id="header">

<!-- Start Logo -->
<a id="logo" href="http://kohanaframework.org/">Kohana</a>
<!-- End Logo -->

<div id="corner">
<form action="/" accept-charset="utf-8" class="search" id="dw__search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[ALT+F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form><br />
<form class="button btn_recent" method="get" action="/"><div class="no"><input type="hidden" name="do" value="recent" /><input type="submit" value="Recent changes" class="button" accesskey="r" title="Recent changes [ALT+R]" /></div></form></div>

</div>
<!-- End Header -->

<div class="menu clearfix">
<ul>
<li class="top active"><a href="../../index.html">Contents</a></li>


<li class="top"><a href="../../index.html"><?= $section ?><!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
			</ul>
<!--[if lte IE 6]></td></tr></table></a><![endif]-->
</li>


<li class="top"><a href="../../index.html"><?= $section ?><!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
			</ul>
<!--[if lte IE 6]></td></tr></table></a><![endif]-->
</li>


<li class="top"><a href="../../index.html"><?= $section ?><!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
			</ul>
<!--[if lte IE 6]></td></tr></table></a><![endif]-->
</li>


<li class="top"><a href="../../index.html"><?= $section ?><!--[if IE 7]><!--></a><!--<![endif]-->
<!--[if lte IE 6]><table><tr><td><![endif]-->
	<ul>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
				<li><a href="../../%3C/index-=%20$section%20?.html>/<?= $page ?>" title="<?= $name ?>"><?= $name ?></a></li>
			</ul>
<!--[if lte IE 6]></td></tr></table></a><![endif]-->
</li>


</ul>
</div>


<!-- Start Body -->
<div id="body" class="dokuwiki clearfix">

<!-- wikipage start -->
<p id="version-warning"><strong>This is documentation for Kohana v2.3.x. For v3.x documentation, see <a href="http://kohanaframework.org/guide" class="urlextern" title="http://kohanaframework.org/guide"  rel="nofollow">http://kohanaframework.org/guide</a> .</strong></p>

<!-- TOC START -->
<div class="toc">
<div class="tocheader toctoggle" id="toc__header">Table of Contents</div>
<div id="toc__inside">

<ul class="toc">
<li class="level1"><div class="li"><span class="li"><a href="#events" class="toc">Events</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="#system_events" class="toc">System Events</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#events_sequence" class="toc">Events Sequence</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#hooks" class="toc">Hooks</a></span></div></li></ul>
</li></ul>
</div>
</div>
<!-- TOC END -->
<table class="inline">
	<tr class="row0">
		<th class="col0">Status</th><td class="col1">Stub</td>
	</tr>
	<tr class="row1">
		<th class="col0">Todo</th><td class="col1">What events are, how events work, running, adding, using custom</td>
	</tr>
	<tr class="row2">
		<th class="col0">Todo</th><td class="col1">Move stuff from core:event </td>
	</tr>
</table>



<h1><a name="events" id="events">Events</a></h1>
<div class="level1">

<p>
See <a href="../../core/event/index.html" class="wikilink1" title="core:event">Event</a> for information on adding, running, removing and using custom events.
</p>

<p>
Kohana events consist of a <strong>name</strong> and <a href="http://php.net/manual/en/language.pseudo-types.php#language.types.callback" class="urlextern" title="http://php.net/manual/en/language.pseudo-types.php#language.types.callback"  rel="nofollow">callback</a>. Names usually include a prefix with the name <sup><a href="#fn__1" name="fnt__1" id="fnt__1" class="fn_top">1)</a></sup>, but are not required to. All of the core events are prefixed as <code>system.name</code>.
</p>

</div>

<h2><a name="system_events" id="system_events">System Events</a></h2>
<div class="level2">

<p>

The following events are defined in the Kohana core files. The pre-defined actions for these events are added in <a href="../../core/kohana/index.html#setup" class="wikilink1" title="core:kohana">Kohana::setup</a>.
</p>

</div>

<h4><a name="system.ready" id="system.ready">system.ready</a></h4>
<div class="level4">

<p>

Called immediately after hooks are loaded. This is the earliest attachable event. Nothing is attached to this event by default. Hooks are loaded before  this point.
</p>

</div>

<h4><a name="system.routing" id="system.routing">system.routing</a></h4>
<div class="level4">

<p>

Processes the <acronym title="Uniform Resource Locator">URL</acronym> and does routing. Calls <a href="../../libraries/router/index.html#setup" class="wikilink2" title="libraries:router" rel="nofollow">Router::find_uri</a> and <a href="../../libraries/router/index.html#setup" class="wikilink2" title="libraries:router" rel="nofollow">Router::setup</a> by default.
</p>

</div>

<h4><a name="system.execute" id="system.execute">system.execute</a></h4>
<div class="level4">

<p>

Controller locating and initialization. A controller object will be created, as an instance of Kohana. Calls <a href="../../core/kohana/index.html#instance" class="wikilink1" title="core:kohana">Kohana::instance</a> by default.
</p>

</div>

<h4><a name="system.post_routing" id="system.post_routing">system.post_routing</a></h4>
<div class="level4">

<p>

Triggered after all routing is done so interventions in routing can be done here. If Router::$controller is empty after this event a 404 is triggered.
</p>

</div>

<h4><a name="system.404" id="system.404">system.404</a></h4>
<div class="level4">

<p>

Called when a page cannot be found. Calls <a href="../../core/kohana/index.html#show_404" class="wikilink1" title="core:kohana">Kohana::show_404</a> by default.
</p>

</div>

<h4><a name="system.pre_controller" id="system.pre_controller">system.pre_controller</a></h4>
<div class="level4">

<p>

Called within system.execute, after the controller file is loaded, but before an object is created.
</p>

</div>

<h4><a name="system.post_controller_constructor" id="system.post_controller_constructor">system.post_controller_constructor</a></h4>
<div class="level4">

<p>

Called within <a href="#system.execute" title="general:events &crarr;" class="wikilink1">system.execute</a>, after the controller constructor has been called. <a href="../../core/kohana/index.html#instance" class="wikilink1" title="core:kohana">Kohana::instance</a> will return the controller at this point, and views can be loaded. Controller methods have not been called yet.
</p>

</div>

<h4><a name="system.post_controller" id="system.post_controller">system.post_controller</a></h4>
<div class="level4">

<p>

Called within <a href="#system.execute" title="general:events &crarr;" class="wikilink1">system.execute</a>, after the controller object is created. <a href="../../core/kohana/index.html#instance" class="wikilink1" title="core:kohana">Kohana::instance</a> will return the controller at this point, and views can be loaded.
</p>

</div>

<h4><a name="system.send_headers" id="system.send_headers">system.send_headers</a></h4>
<div class="level4">

<p>

Called just before the global output buffer is closed, before any content is displayed. Writing cookies is not possible after this point, and <a href="../../libraries/session/index.html" class="wikilink1" title="libraries:session">Session</a> data will not be saved.
</p>

</div>

<h4><a name="system.display" id="system.display">system.display</a></h4>
<div class="level4">

<p>

Displays the output that Kohana has generated. Views can be loaded, but headers have already been sent. The rendered output can be manipulated as <a href="../../core/event/index.html#data" class="wikilink1" title="core:event">Event::$data</a>.
</p>

</div>

<h4><a name="system.shutdown" id="system.shutdown">system.shutdown</a></h4>
<div class="level4">

<p>

Last event to run, just before <acronym title="Hypertext Preprocessor">PHP</acronym> starts to shut down. Runs the Kohana::shutdown method by default.
</p>

</div>

<h4><a name="system.log" id="system.log">system.log</a></h4>
<div class="level4">

<p>
Called within <a href="../../core/kohana/index.html#methods_log" class="wikilink1" title="core:kohana">Kohana::log</a>, useful if you want to send an email when certain events are logged or store log messages in a different location.
</p>

</div>

<h4><a name="system.redirect" id="system.redirect">system.redirect</a></h4>
<div class="level4">

<p>
Called within <a href="../../helpers/url/index.html#redirect" class="wikilink1" title="helpers:url">url::redirect</a>, useful to detect that the system is about to perform a redirect.
</p>

</div>

<h2><a name="events_sequence" id="events_sequence">Events Sequence</a></h2>
<div class="level2">

<p>

<a href="http://brotkin.ru/examples/kohana_docs/kohana_sequences_eng.png" class="media" title="http://brotkin.ru/examples/kohana_docs/kohana_sequences_eng.png"  rel="nofollow"><img src="../../lib/exe/fetch-w=&h=&cache=cache&media=http___brotkin.ru_examples_kohana_docs_kohana_sequences_eng.png.php.html" class="media" alt="" /></a>
</p>

</div>

<h2><a name="hooks" id="hooks">Hooks</a></h2>
<div class="level2">

<p>
Hooks are included early in Kohana and can be used, e.g., to execute code before controllers are loaded so you can check for authentication early on in processing and thereby reduce server resources. Events and hooks go hand in hand: hooks allow you to attach code to events. See for more information the <a href="../hooks/index.html" class="wikilink1" title="general:hooks">Hooks</a> page.

</p>

</div>
<div class="footnotes">
<div class="fn"><sup><a href="#fnt__1" id="fn__1" name="fn__1" class="fn_bot">1)</a></sup> 
An example of a “prefix” is prefix.name</div>
</div>

<!-- wikipage stop -->

</div>
<!-- End Body -->


<div id="wikibar" class="clearfix">
	<div class="meta">
		<div class="user">
					</div>
		<div class="doc">
			general/events.txt &middot; Last modified: 2009/09/04 02:33 by phpguru			&nbsp;
		</div>
	</div>

	<div class="bar-left" id="bar__bottomleft">
		<form class="button btn_source" method="post" action="/general/events"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="" /><input type="submit" value="Show pagesource" class="button" accesskey="v" title="Show pagesource [ALT+V]" /></div></form>		<form class="button btn_revs" method="get" action="/general/events"><div class="no"><input type="hidden" name="do" value="revisions" /><input type="submit" value="Old revisions" class="button" accesskey="o" title="Old revisions [ALT+O]" /></div></form>	</div>
	<div class="bar-right" id="bar__bottomright">
		<a class="nolink" href="#dokuwiki__top"><input type="button" class="button" value="Back to top" onclick="window.scrollTo(0, 0)" title="Back to top" /></a>		<form class="button btn_index" method="get" action="/general/events"><div class="no"><input type="hidden" name="do" value="index" /><input type="submit" value="Index" class="button" accesskey="x" title="Index [ALT+X]" /></div></form>		<form class="button btn_login" method="get" action="/general/events"><div class="no"><input type="hidden" name="do" value="login" /><input type="hidden" name="sectok" value="805bcc0f31c55d5870e06ca7184bc169" /><input type="submit" value="Login" class="button" title="Login" /></div></form>								&nbsp;
	</div>
</div>

<div id="footer"><strong>&copy;2007-2008 Kohana Team. All rights reserved.</strong></div>

</div>
<div class="no"><img src="../../lib/exe/indexer-id=general_events&1317315414.php.html" width="1" height="1" alt=""  /></div>
</body>
</html>


<!-- Localized -->